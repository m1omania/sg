<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Кошелёк - SolarGroup</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header__logo">
            <span class="logo">SolarGroup</span>
        </div>
        <div class="header__controls">
            <div class="language-switcher">
                <button class="lang-btn active" data-lang="ru">RU</button>
                <button class="lang-btn" data-lang="en">EN</button>
            </div>
            <button class="notification-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                </svg>
                <span class="notification-count">2</span>
            </button>
            <div class="user-profile">
                <span class="user-name">Константин</span>
                <div class="user-avatar">К</div>
            </div>
        </div>
    </header>

    <div class="app-layout">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <ul class="nav-menu">
                <li class="nav-item"><a href="invest.html" class="nav-link">Главная</a></li>
                <li class="nav-item"><a href="#" class="nav-link active">Кошелёк</a></li>
                <li class="nav-item"><a href="invest.html" class="nav-link">Инвестировать</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Мои инвестиции</a></li>
                <li class="nav-item"><a href="index.html" class="nav-link">Купоны и промокоды</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Партнёрская программа</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Промоакции</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Мероприятия</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Поддержка</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div class="page-header">
                <h1>Кошелёк</h1>
            </div>

            <!-- Account Balances -->
            <div class="wallet-section">
                <div class="account-balances">
                    <div class="balance-card">
                        <div class="balance-header">
                            <h3>Основной счёт</h3>
                        </div>
                        <div class="balance-amount">
                            <span class="amount">0,00 $</span>
                        </div>
                        <div class="balance-actions">
                            <button class="btn btn--primary">Пополнить</button>
                            <button class="btn btn--secondary">Вывести</button>
                        </div>
                    </div>

                    <div class="balance-card">
                        <div class="balance-header">
                            <h3>Партнёрский счёт</h3>
                        </div>
                        <div class="balance-amount">
                            <span class="amount">0,00 $</span>
                        </div>
                        <div class="balance-actions">
                            <button class="btn btn--primary">Пополнить</button>
                            <button class="btn btn--secondary">Вывести</button>
                        </div>
                    </div>
                </div>

                <!-- Coupons Widget -->
                <div class="coupons-widget">
                    <div class="widget-header">
                        <h2>Ваши доступные купоны</h2>
                        <button class="btn btn--secondary btn--small">Показать все купоны</button>
                    </div>
                    <div class="coupons-container" id="wallet-coupons">
                        <!-- Coupons will be populated by JavaScript -->
                        <div class="no-coupons-message">
                            <p>Нет активных купонов</p>
                            <button class="btn btn--primary activate-promo-btn">Активировать промокод</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Transaction History -->
            <div class="transaction-history">
                <h2>История операций</h2>
                <div class="history-table-container">
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>Тип</th>
                                <th>Дата</th>
                                <th>Сумма</th>
                                <th>Описание</th>
                                <th>Статус</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Пополнение</td>
                                <td>01.10.2025</td>
                                <td>+1 000 $</td>
                                <td>Пополнение с банковской карты</td>
                                <td><span class="status-badge status-success">Выполнено</span></td>
                            </tr>
                            <tr>
                                <td>Инвестиция</td>
                                <td>28.09.2025</td>
                                <td>-500 $</td>
                                <td>Инвестиция в проект "Дирижабли"</td>
                                <td><span class="status-badge status-success">Выполнено</span></td>
                            </tr>
                            <tr>
                                <td>Вывод</td>
                                <td>25.09.2025</td>
                                <td>-200 $</td>
                                <td>Вывод на банковскую карту</td>
                                <td><span class="status-badge status-pending">В обработке</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals and Notifications -->
    <div id="coupon-details-modal" class="modal">
        <div class="modal-content coupon-details-modal">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="coupon-detail-header">
                    <h2 id="detail-coupon-name">Название купона</h2>
                    <span class="coupon-project-tag" id="detail-coupon-project">Проект</span>
                </div>
                <div class="coupon-detail-main">
                    <div class="coupon-bonus-display">
                        <span class="bonus-amount" id="detail-coupon-bonus">$25</span>
                        <span class="bonus-type">бонус</span>
                    </div>
                    <div class="coupon-meta">
                        <div class="meta-item">
                            <span class="meta-label">Истекает:</span>
                            <span class="meta-value" id="detail-coupon-expiry">15 октября 2025</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Условия:</span>
                            <span class="meta-value" id="detail-coupon-conditions">Минимальная сумма $250</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Код:</span>
                            <span class="meta-value coupon-code" id="detail-coupon-code">WELCOME25-ABC123</span>
                        </div>
                    </div>
                </div>
                <div class="coupon-actions">
                    <button class="btn btn--primary use-coupon-btn">Использовать</button>
                    <button class="btn btn--secondary copy-code-btn">Копировать код</button>
                </div>
            </div>
        </div>
    </div>

    <div id="activate-promo-modal" class="modal">
        <div class="modal-content promo-activation-modal">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <h2>Активировать промокод</h2>
                <form class="promo-activation-form">
                    <div class="form-group">
                        <label for="promo-code">Введите промокод:</label>
                        <input type="text" id="promo-code" class="form-control" placeholder="Промокод">
                    </div>
                    <button type="submit" class="btn btn--primary">Активировать</button>
                </form>
            </div>
        </div>
    </div>

    <div id="success-notification" class="notification notification-success">
        <div class="notification-content">
            <span class="notification-icon">✓</span>
            <span class="notification-message">Купон успешно применён!</span>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        // Wallet-specific JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Activate promo button functionality
            const activatePromoBtn = document.querySelector('.activate-promo-btn');
            const activatePromoModal = document.getElementById('activate-promo-modal');
            const closeModalButtons = document.querySelectorAll('.close-modal');
            
            if (activatePromoBtn) {
                activatePromoBtn.addEventListener('click', function() {
                    activatePromoModal.style.display = 'block';
                });
            }
            
            // Close modal functionality
            closeModalButtons.forEach(button => {
                button.addEventListener('click', function() {
                    this.closest('.modal').style.display = 'none';
                });
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target.classList.contains('modal')) {
                    event.target.style.display = 'none';
                }
            });
            
            // Initialize coupons display
            initializeWalletCoupons();
        });
        
        function initializeWalletCoupons() {
            // This would integrate with the existing coupon system
            // For now, we'll just show the "no coupons" message
            // In a full implementation, this would populate the coupons container
            console.log("Initializing wallet coupons...");
        }
    </script>
</body>
</html>