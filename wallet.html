<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ—à–µ–ª—ë–∫ - SolarGroup</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
        <!-- Web Component Header -->
    <sg-header></sg-header>

    <div class="app-layout">
                <!-- Web Component Sidebar -->
        <sg-sidebar></sg-sidebar>

        <!-- Main Content -->
        <main class="main-content">
            <div class="page-header">
                <h1>–ö–æ—à–µ–ª—ë–∫</h1>
                        
            </div>

            <!-- Account Balances -->
            <div class="account-balances">
                <account-card 
                    type="main" 
                    balance="0.00" 
                    currency="USD" 
                    badge="USD">
                </account-card>

                <account-card 
                    type="partner" 
                    balance="0.00" 
                    currency="USD" 
                    badge="+5%">
                </account-card>
            </div>

            <!-- Transaction History -->
            <div class="transaction-history">
                <div class="transaction-history__header">
                <h2>–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h2>
                    <div class="transaction-filters">
                        <button class="filter-btn active" data-filter="all">–í—Å–µ</button>
                        <button class="filter-btn" data-filter="deposit">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è</button>
                        <button class="filter-btn" data-filter="withdrawal">–í—ã–≤–æ–¥—ã</button>
                        <button class="filter-btn" data-filter="investment">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</button>
                    </div>
                </div>
                
                <!-- Desktop Table View -->
                <div class="history-table-container desktop-view">
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏</th>
                                <th>–î–∞—Ç–∞</th>
                                <th>–°—É–º–º–∞</th>
                                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                            </tr>
                        </thead>
                        <tbody id="transactions-tbody"></tbody>
                    </table>
                </div>
                
                <!-- Mobile Card View -->
                <div class="history-cards-container mobile-view" id="transactions-cards">
                    <!-- Transaction cards will be populated by JavaScript -->
                </div>
                
                <!-- Load More Button -->
                <div class="transaction-history__footer">
                    <button class="btn btn--secondary" id="load-more-btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ</button>
                </div>
            </div>
        </main>
                
    </div>

    <!-- Modals and Notifications -->
    <div id="coupon-details-modal" class="modal">
        <div class="modal-content coupon-details-modal">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="coupon-detail-header">
                    <h2 id="detail-coupon-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∫—É–ø–æ–Ω–∞</h2>
                    <span class="coupon-project-tag" id="detail-coupon-project">–ü—Ä–æ–µ–∫—Ç</span>
                            
                </div>
                <div class="coupon-detail-main">
                    <div class="coupon-bonus-display">
                        <span class="bonus-amount" id="detail-coupon-bonus">$25</span>
                        <span class="bonus-type">–±–æ–Ω—É—Å</span>
                                
                    </div>
                    <div class="coupon-meta">
                        <div class="meta-item">
                            <span class="meta-label">–ò—Å—Ç–µ–∫–∞–µ—Ç:</span>
                            <span class="meta-value" id="detail-coupon-expiry">15 –æ–∫—Ç—è–±—Ä—è 2025</span>
                                    
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">–£—Å–ª–æ–≤–∏—è:</span>
                            <span class="meta-value" id="detail-coupon-conditions">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ $250</span>
                                    
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">–ö–æ–¥:</span>
                            <span class="meta-value coupon-code" id="detail-coupon-code">WELCOME25-ABC123</span>
                                    
                        </div>
                                
                    </div>
                            
                </div>
                <div class="coupon-actions">
                    <button class="btn btn--primary use-coupon-btn">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</button>
                    <button class="btn btn--secondary copy-code-btn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
                            
                </div>
                        
            </div>
                    
        </div>
                
    </div>

    <div id="activate-promo-modal" class="modal">
        <div class="modal-content promo-activation-modal">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <h2>–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥</h2>
                <form class="promo-activation-form">
                    <div class="form-group">
                        <label for="promo-code">–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥:</label>
                        <input type="text" id="promo-code" class="form-control" placeholder="–ü—Ä–æ–º–æ–∫–æ–¥">
                                
                    </div>
                    <button type="submit" class="btn btn--primary">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
                </form>
                        
            </div>
                    
        </div>
                
    </div>

    <div id="success-notification" class="notification notification-success">
        <div class="notification-content">
            <span class="notification-icon">‚úì</span>
            <span class="notification-message">–ö—É–ø–æ–Ω —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω—ë–Ω!</span>
                    
        </div>
                
    </div>

    
            <script src="components/web-components/header-standalone.js"></script>
    <script src="components/web-components/sidebar-standalone.js"></script>
    <script>
        // Account Card Component
        class AccountCard extends HTMLElement {
            constructor() {
                super();
            }

            static get observedAttributes() {
                return ['type', 'balance', 'currency', 'badge', 'badge-text'];
            }

            connectedCallback() {
                this.render();
                this.bindEvents();
            }

            attributeChangedCallback(name, oldValue, newValue) {
                if (oldValue !== newValue) {
                    this.render();
                }
            }

            render() {
                const type = this.getAttribute('type') || 'main';
                const balance = this.getAttribute('balance') || '0.00';
                const currency = this.getAttribute('currency') || 'USD';
                const badge = this.getAttribute('badge') || '';
                const badgeText = this.getAttribute('badge-text') || '';

                const isPartner = type === 'partner';
                const icon = isPartner ? 'ü§ù' : 'üíº';
                const title = isPartner ? '–ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–π —Å—á—ë—Ç' : '–û—Å–Ω–æ–≤–Ω–æ–π —Å—á—ë—Ç';
                const subtitle = isPartner ? '–ù–∞—á–∏—Å–ª–µ–Ω–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã' : '–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞';
                const badgeClass = isPartner ? 'account-summary__badge--success' : '';

                this.innerHTML = `
                    <style>
                        @media (max-width: 768px) {
                            .account-summary__title-wrap {
                                justify-content: flex-start !important;
                            }
                        }
                    </style>
                    <div class="account-card account-summary ${isPartner ? 'account-summary--partner' : ''}">
                        <div class="account-summary__header">
                            <div class="account-summary__title-wrap">
                                <div class="account-summary__icon">${icon}</div>
                                <div>
                                    <h3 class="account-summary__title">${title}</h3>
                                    <div class="account-summary__subtitle">${subtitle}</div>
                                </div>
                            </div>
                            ${badge ? `<span class="account-summary__badge ${badgeClass}">${badgeText}</span>` : ''}
                        </div>
                        
                        <div class="account-summary__amount" id="${type}-balance-amount">${balance} $</div>
                        
                        <div class="account-summary__controls">
                            <div></div>
                            <div class="account-summary__actions">
                                <a class="btn btn--primary" href="deposit.html" ${isPartner ? 'disabled' : ''}>–ü–æ–ø–æ–ª–Ω–∏—Ç—å</a>
                                <button class="btn btn--secondary" id="withdraw-${type}-btn" disabled>–í—ã–≤–µ—Å—Ç–∏</button>
                            </div>
                        </div>
                    </div>
                `;
            }

            bindEvents() {
                const withdrawBtn = this.querySelector(`#withdraw-${this.getAttribute('type')}-btn`);
                if (withdrawBtn) {
                    withdrawBtn.addEventListener('click', () => {
                        this.dispatchEvent(new CustomEvent('withdraw', {
                            detail: {
                                type: this.getAttribute('type'),
                                balance: this.getAttribute('balance')
                            },
                            bubbles: true
                        }));
                    });
                }
            }

            updateBalance(newBalance) {
                this.setAttribute('balance', newBalance);
                const amountElement = this.querySelector(`#${this.getAttribute('type')}-balance-amount`);
                if (amountElement) {
                    amountElement.textContent = `${newBalance} $`;
                }
            }
        }

        customElements.define('account-card', AccountCard);
    </script>
    <script src="app.js"></script>
    <script src="wallet.js"></script>
    
    
</body>
</html>