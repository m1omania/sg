# SolarGroup Investment Platform

Платформа для управления инвестициями с системой купонов и промокодов.

## Описание

Это полнофункциональный прототип инвестиционной платформы с возможностью:
- Управления купонами и промокодами
- Отслеживания истории использования купонов
- Инвестирования с применением купонов
- Управления кошельком

## Архитектура

### Фронтенд
- HTML5
- CSS3 (с использованием CSS-переменных)
- Vanilla JavaScript (ES6+)

### Бэкенд
- Node.js с Express.js
- SQLite для хранения данных
- RESTful API

### Структура проекта
```
.
├── index.html          # Главная страница (купоны и промокоды)
├── wallet.html         # Страница кошелька
├── invest.html         # Страница инвестиций
├── style.css           # Стили
├── app.js              # Клиентский JavaScript
├── server/             # Серверная часть
│   ├── server.js       # Основной серверный файл
│   ├── package.json    # Зависимости сервера
│   ├── config/         # Конфигурационные файлы
│   ├── routes/         # Маршруты API
│   ├── controllers/    # Контроллеры
│   └── models/         # Модели данных
├── render.yaml         # Конфигурация для Render
└── .gitignore          # Файл игнорирования для Git
```

## Локальный запуск

1. Установите зависимости сервера:
```bash
cd server
npm install
```

2. Запустите сервер:
```bash
npm start
```

3. Откройте в браузере:
```
http://localhost:3000
```

## Развертывание на Render

1. Создайте аккаунт на [Render](https://render.com/)
2. Создайте новый репозиторий на GitHub и загрузите туда проект
3. Подключите ваш репозиторий к Render:
   - Перейдите в Dashboard на Render
   - Нажмите "New Web Service"
   - Выберите ваш репозиторий GitHub
4. Укажите следующие настройки:
   - Name: solar-group-app (или любое другое)
   - Environment: Node
   - Build Command: `cd server && npm install`
   - Start Command: `cd server && node server.js`
   - Instance Type: Free (для тестирования)
5. Добавьте переменную окружения:
   - NODE_ENV = production
6. Нажмите "Create Web Service"
7. Дождитесь завершения развертывания

Также можно использовать файл [render.yaml](file:///Users/andreyreutskiy/projects/sg/render.yaml) для автоматической конфигурации:
1. Подключите репозиторий к Render
2. Render автоматически обнаружит [render.yaml](file:///Users/andreyreutskiy/projects/sg/render.yaml) и применит настройки

## API Endpoints

### Купоны
- `GET /api/coupons/active` - Получить активные купоны
- `GET /api/coupons/history` - Получить историю купонов
- `POST /api/coupons/use` - Использовать купон
- `POST /api/coupons/activate` - Активировать промокод

### Инвестиции
- `POST /api/investments/create` - Создать инвестицию
- `GET /api/investments/:userId` - Получить инвестиции пользователя

### Кошелек
- `GET /api/wallet/:userId` - Получить информацию о кошельке
- `GET /api/wallet/:userId/coupons` - Получить купоны пользователя
- `POST /api/wallet/:userId/deposit` - Пополнить баланс

### Пользователи
- `GET /api/users/:userId` - Получить информацию о пользователе
- `GET /api/users/:userId/stats` - Получить статистику пользователя

## База данных

Проект использует SQLite для хранения данных. При первом запуске автоматически создаются таблицы и добавляются тестовые данные.

### Таблицы:
- `users` - Пользователи
- `coupons` - Купоны и промокоды
- `coupon_history` - История использования купонов
- `investments` - Инвестиции
- `wallets` - Кошельки пользователей

## Демо данные

В системе предустановлены тестовые данные:
- Пользователь: Константин
- Купоны: несколько тестовых купонов с разными условиями
- Баланс кошелька: 0.00

## Разработка

Для разработки рекомендуется использовать nodemon:
```bash
cd server
npm run dev
```

Это позволит автоматически перезапускать сервер при изменении файлов.

## Устранение неполадок

Если вы получаете ошибку "Repository not found", убедитесь, что:
1. Вы создали репозиторий на GitHub
2. Загрузили в него все файлы проекта
3. Подключили правильный репозиторий к Render

Если развертывание не удается, проверьте:
1. Логи развертывания на Render
2. Правильность команд сборки и запуска в настройках Render
3. Наличие файла [render.yaml](file:///Users/andreyreutskiy/projects/sg/render.yaml) в корне репозитория